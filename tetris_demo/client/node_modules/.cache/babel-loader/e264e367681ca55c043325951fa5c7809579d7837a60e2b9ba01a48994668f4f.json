{"ast":null,"code":"var _jsxFileName = \"/Users/josephop/distributed-systems/tetris_demo/client/src/GameOverScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst GameOverScreen = ({\n  gameOverData,\n  currentPlayerId,\n  onTimeout\n}) => {\n  _s();\n  const [countdown, setCountdown] = useState(5);\n  useEffect(() => {\n    // Start countdown\n    const timer = setInterval(() => {\n      setCountdown(prev => {\n        if (prev <= 1) {\n          clearInterval(timer);\n          onTimeout();\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n    return () => clearInterval(timer);\n  }, [onTimeout]);\n\n  // Check if it's a multiplayer game\n  const isMultiplayer = gameOverData.players && Object.keys(gameOverData.players).length > 1;\n\n  // Calculate total score from all players\n  const calculateTotalScore = () => {\n    if (!isMultiplayer) {\n      return gameOverData.score;\n    }\n    return Object.values(gameOverData.players || {}).reduce((total, player) => {\n      return total + (player.score || 0);\n    }, 0);\n  };\n  const totalScore = calculateTotalScore();\n\n  // Get individual player's score\n  const yourScore = isMultiplayer && gameOverData.players && gameOverData.players[currentPlayerId] ? gameOverData.players[currentPlayerId].score : gameOverData.score;\n  const youLost = currentPlayerId === gameOverData.playerId;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: 'rgba(0, 0, 0, 0.8)',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      zIndex: 1000\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#333',\n        padding: '30px',\n        borderRadius: '10px',\n        boxShadow: '0 0 20px rgba(255, 0, 0, 0.5)',\n        textAlign: 'center',\n        color: 'white',\n        maxWidth: '400px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          margin: '0 0 20px',\n          fontSize: '28px',\n          color: '#FF5733'\n        },\n        children: \"Game Over\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), youLost && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '20px',\n          marginBottom: '15px'\n        },\n        children: \"You lost!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), isMultiplayer ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '24px',\n            margin: '10px 0'\n          },\n          children: [\"Your Score: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontWeight: 'bold',\n              color: '#66ccff'\n            },\n            children: yourScore\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '24px',\n            margin: '10px 0'\n          },\n          children: [\"Total Score: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontWeight: 'bold'\n            },\n            children: totalScore\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 28\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '24px',\n          margin: '20px 0'\n        },\n        children: [\"Final Score: \", /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontWeight: 'bold'\n          },\n          children: gameOverData.score\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '16px',\n          marginTop: '25px',\n          color: '#AAA'\n        },\n        children: [\"Returning to lobby in \", countdown, \"\\u2026\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(GameOverScreen, \"5IyNxS0sv4AHO/4kY6tmyq4YYJY=\");\n_c = GameOverScreen;\nexport default GameOverScreen;\nvar _c;\n$RefreshReg$(_c, \"GameOverScreen\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","GameOverScreen","gameOverData","currentPlayerId","onTimeout","_s","countdown","setCountdown","timer","setInterval","prev","clearInterval","isMultiplayer","players","Object","keys","length","calculateTotalScore","score","values","reduce","total","player","totalScore","yourScore","youLost","playerId","style","position","top","left","right","bottom","backgroundColor","display","justifyContent","alignItems","zIndex","children","padding","borderRadius","boxShadow","textAlign","color","maxWidth","margin","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","fontWeight","marginTop","_c","$RefreshReg$"],"sources":["/Users/josephop/distributed-systems/tetris_demo/client/src/GameOverScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nconst GameOverScreen = ({ gameOverData, currentPlayerId, onTimeout }) => {\n  const [countdown, setCountdown] = useState(5);\n\n  useEffect(() => {\n    // Start countdown\n    const timer = setInterval(() => {\n      setCountdown(prev => {\n        if (prev <= 1) {\n          clearInterval(timer);\n          onTimeout();\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, [onTimeout]);\n\n  // Check if it's a multiplayer game\n  const isMultiplayer = gameOverData.players && Object.keys(gameOverData.players).length > 1;\n  \n  // Calculate total score from all players\n  const calculateTotalScore = () => {\n    if (!isMultiplayer) {\n      return gameOverData.score;\n    }\n    \n    return Object.values(gameOverData.players || {}).reduce((total, player) => {\n      return total + (player.score || 0);\n    }, 0);\n  };\n  \n  const totalScore = calculateTotalScore();\n  \n  // Get individual player's score\n  const yourScore = isMultiplayer && gameOverData.players && gameOverData.players[currentPlayerId] ? \n    gameOverData.players[currentPlayerId].score : gameOverData.score;\n  \n  const youLost = currentPlayerId === gameOverData.playerId;\n\n  return (\n    <div style={{\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: 'rgba(0, 0, 0, 0.8)',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      zIndex: 1000\n    }}>\n      <div style={{\n        backgroundColor: '#333',\n        padding: '30px',\n        borderRadius: '10px',\n        boxShadow: '0 0 20px rgba(255, 0, 0, 0.5)',\n        textAlign: 'center',\n        color: 'white',\n        maxWidth: '400px'\n      }}>\n        <h2 style={{\n          margin: '0 0 20px',\n          fontSize: '28px',\n          color: '#FF5733'\n        }}>\n          Game Over\n        </h2>\n\n        {youLost && (\n          <div style={{\n            fontSize: '20px',\n            marginBottom: '15px'\n          }}>\n            You lost!\n          </div>\n        )}\n\n        {isMultiplayer ? (\n          <>\n            <div style={{\n              fontSize: '24px',\n              margin: '10px 0'\n            }}>\n              Your Score: <span style={{ fontWeight: 'bold', color: '#66ccff' }}>\n                {yourScore}\n              </span>\n            </div>\n            <div style={{\n              fontSize: '24px',\n              margin: '10px 0'\n            }}>\n              Total Score: <span style={{ fontWeight: 'bold' }}>\n                {totalScore}\n              </span>\n            </div>\n          </>\n        ) : (\n          <div style={{\n            fontSize: '24px',\n            margin: '20px 0'\n          }}>\n            Final Score: <span style={{ fontWeight: 'bold' }}>\n              {gameOverData.score}\n            </span>\n          </div>\n        )}\n\n        <div style={{\n          fontSize: '16px',\n          marginTop: '25px',\n          color: '#AAA'\n        }}>\n          Returning to lobby in {countdown}â€¦\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default GameOverScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}