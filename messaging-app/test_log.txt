Connected to server.
Sent: signup -> {'username': 'Alice', 'password': 'secret'}
Received: {"msg_type": "response", "data": {"status": "ok", "msg": "Signup successful."}}
Sent: login -> {'username': 'Alice', 'password': 'secret'}
Received: {"msg_type": "response", "data": {"status": "ok", "msg": "Login successful.", "unread_count": 0}}
Sent: send_message -> {'sender': 'Alice', 'recipient': 'Bob', 'content': 'Hello, Bob!'}
Received: {"msg_type": "response", "data": {"status": "ok", "msg": "message stored"}}
Sent: fetch_messages -> {'num_messages': 5}
Received: {"msg_type": "response", "data": {"status": "ok", "messages": []}}
TEST FAILED: No messages received!
Alice connected to server.
Sent: signup -> {'username': 'Alice', 'password': 'secret'}
Received: {"msg_type": "response", "data": {"status": "error", "msg": "Username already taken."}}
Sent: signup -> {'username': 'Bob', 'password': 'password'}
Received: {"msg_type": "response", "data": {"status": "ok", "msg": "Signup successful."}}
Sent: send_message -> {'sender': 'Alice', 'recipient': 'Bob', 'content': 'Hello, Bob!'}
Received: {"msg_type": "response", "data": {"status": "error", "msg": "You are not logged in as this sender."}}
Alice disconnected.
Bob connected to server.
Sent: login -> {'username': 'Bob', 'password': 'password'}
Received: {"msg_type": "response", "data": {"status": "ok", "msg": "Login successful.", "unread_count": 3}}
Sent: fetch_messages -> {'num_messages': 5}
Received: {"msg_type": "response", "data": {"status": "ok", "messages": [{"id": 1, "sender": "Alice", "content": "Hello, Bob!"}, {"id": 2, "sender": "Alice", "content": "Hello, Bob!"}, {"id": 3, "sender": "Alice", "content": "Hello, Bob!"}]}}
✅ Test Passed: Bob successfully received a message.
Bob disconnected.
Alice connected to server.
Sent: signup -> {'username': 'Alice', 'password': 'secret'}
Received: {"msg_type": "response", "data": {"status": "error", "msg": "Username already taken."}}
Sent: signup -> {'username': 'Bob', 'password': 'password'}
Received: {"msg_type": "response", "data": {"status": "error", "msg": "Username already taken."}}
Sent: send_message -> {'sender': 'Alice', 'recipient': 'Bob', 'content': 'Hello, Bob!'}
Received: {"msg_type": "response", "data": {"status": "error", "msg": "You are not logged in as this sender."}}
Alice disconnected.
Bob connected to server.
Sent: login -> {'username': 'Bob', 'password': 'password'}
Received: {"msg_type": "response", "data": {"status": "ok", "msg": "Login successful.", "unread_count": 0}}
Sent: fetch_messages -> {'num_messages': 5}
Received: {"msg_type": "response", "data": {"status": "ok", "messages": []}}
❌ TEST FAILED: Bob did not receive any messages!
Alice connected to server.
Sent: signup -> {'username': 'Alice', 'password': 'secret'}
Received: {"msg_type": "response", "data": {"status": "ok", "msg": "Signup successful. Please login."}}
Sent: signup -> {'username': 'Bob', 'password': 'password'}
Received: {"msg_type": "response", "data": {"status": "ok", "msg": "Signup successful. Please login."}}
Sent: send_message -> {'sender': 'Alice', 'recipient': 'Bob', 'content': 'Hello, Bob!'}
Received: {"msg_type": "response", "data": {"status": "error", "msg": "You are not logged in as this sender."}}
Alice disconnected.
Bob connected to server.
Sent: login -> {'username': 'Bob', 'password': 'password'}
Received: {"msg_type": "response", "data": {"status": "ok", "msg": "Login successful.", "unread_count": 0}}
Sent: fetch_messages -> {'num_messages': 5}
Received: {"msg_type": "response", "data": {"status": "ok", "messages": []}}
❌ TEST FAILED: Bob did not receive any messages!
Alice connected to server.
Sent: signup -> {'username': 'Alice', 'password': 'secret'}
Received: {"msg_type": "response", "data": {"status": "error", "msg": "Username already taken."}}
Sent: signup -> {'username': 'Bob', 'password': 'password'}
Alice connected to server.
Sent: signup -> {'username': 'Alice', 'password': 'secret'}
Received: {"msg_type": "response", "data": {"status": "error", "msg": "Username already taken."}}
Sent: signup -> {'username': 'Bob', 'password': 'password'}
Received: {"msg_type": "response", "data": {"status": "error", "msg": "Username already taken."}}
Sent: login -> {'username': 'Alice', 'password': 'secret'}
Received: {"msg_type": "response", "data": {"status": "ok", "msg": "Login successful.", "unread_count": 0}}
Sent: send_message -> {'sender': 'Alice', 'recipient': 'Bob', 'content': 'Hello, Bob!'}
Server closed connection.
Alice disconnected.
Bob connected to server.
Sent: login -> {'username': 'Bob', 'password': 'password'}
Received: {"msg_type": "response", "data": {"status": "ok", "msg": "Login successful.", "unread_count": 0}}
Sent: fetch_messages -> {'num_messages': 5}
Received: {"msg_type": "response", "data": {"status": "ok", "messages": []}}
❌ TEST FAILED: Bob did not receive any messages!
Alice connected to server.
Sent: signup -> {'username': 'Alice', 'password': 'secret'}
Received: {"msg_type": "response", "data": {"status": "ok", "msg": "Signup successful. Please login."}}
Sent: signup -> {'username': 'Bob', 'password': 'password'}
Received: {"msg_type": "response", "data": {"status": "ok", "msg": "Signup successful. Please login."}}
Sent: login -> {'username': 'Alice', 'password': 'secret'}
Received: {"msg_type": "response", "data": {"status": "ok", "msg": "Login successful.", "unread_count": 0}}
Sent: send_message -> {'sender': 'Alice', 'recipient': 'Bob', 'content': 'Hello, Bob!'}
Received: {"msg_type": "response", "data": {"status": "ok", "msg": "message stored"}}
Alice disconnected.
Bob connected to server.
Sent: login -> {'username': 'Bob', 'password': 'password'}
Received: {"msg_type": "response", "data": {"status": "ok", "msg": "Login successful.", "unread_count": 1}}
Sent: fetch_messages -> {'num_messages': 5}
Received: {"msg_type": "response", "data": {"status": "ok", "messages": [{"id": 1, "sender": "Alice", "content": "Hello, Bob!"}]}}
✅ Test Passed: Bob successfully received a message.
Bob disconnected.
Alice connected to server.
Sent: signup -> {'username': 'Alice', 'password': 'secret'}
Received: {"msg_type": "response", "data": {"status": "error", "msg": "Username already taken."}}
Sent: signup -> {'username': 'Bob', 'password': 'password'}
Received: {"msg_type": "response", "data": {"status": "error", "msg": "Username already taken."}}
Sent: login -> {'username': 'Alice', 'password': 'secret'}
Received: {"msg_type": "response", "data": {"status": "ok", "msg": "Login successful.", "unread_count": 0}}
Sent: send_message -> {'sender': 'Alice', 'recipient': 'Bob', 'content': 'Hello, Bob!'}
Received: {"msg_type": "response", "data": {"status": "ok", "msg": "message stored"}}
Alice disconnected.
Bob connected to server.
Sent: login -> {'username': 'Bob', 'password': 'password'}
Received: {"msg_type": "response", "data": {"status": "ok", "msg": "Login successful.", "unread_count": 1}}
Sent: fetch_messages -> {'num_messages': 5}
Received: {"msg_type": "response", "data": {"status": "ok", "messages": [{"id": 2, "sender": "Alice", "content": "Hello, Bob!"}]}}
✅ Test Passed: Bob successfully received a message.
Bob disconnected.
