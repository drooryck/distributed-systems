{"ast":null,"code":"var _jsxFileName = \"/Users/driesrooryck/Desktop/s25/distributed-systems/tetris/client/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { io } from 'socket.io-client';\nimport GameBoard from './GameBoard';\nimport HomeScreen from './HomeScreen';\nimport GameOverScreen from './GameOverScreen';\n\n// Add debugging to see connection attempts\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconsole.log('Attempting to connect to server at http://localhost:3001');\nconst socket = io('http://localhost:3001'); // server endpoint\n\nfunction App() {\n  _s();\n  const [gameState, setGameState] = useState(null);\n  const [connectionStatus, setConnectionStatus] = useState('connecting');\n  const [playerList, setPlayerList] = useState([]);\n  const [gameOverData, setGameOverData] = useState(null);\n  useEffect(() => {\n    socket.on('connect', () => {\n      console.log('Connected to server! My socket ID is:', socket.id);\n      setConnectionStatus('connected');\n    });\n    socket.on('connect_error', error => {\n      console.log('Connection error:', error);\n      setConnectionStatus('error: ' + error.message);\n    });\n    socket.on('init', data => {\n      console.log('Received init data:', data);\n      setGameState(data);\n      updatePlayerList(data.players);\n    });\n    socket.on('gameState', data => {\n      console.log('Received gameState update:', data);\n      setGameState(data);\n      updatePlayerList(data.players);\n\n      // Reset gameOverData if we're back at homescreen\n      if (data.appPhase === 'homescreen') {\n        setGameOverData(null);\n      }\n    });\n    socket.on('gameOver', data => {\n      console.log('Game over:', data);\n      setGameOverData(data);\n    });\n\n    // Cleanup event listeners when component unmounts\n    return () => {\n      socket.off('connect');\n      socket.off('connect_error');\n      socket.off('init');\n      socket.off('gameState');\n      socket.off('gameOver');\n    };\n  }, []);\n\n  // Update the player list for display\n  const updatePlayerList = useCallback(players => {\n    const list = Object.entries(players).map(([id, player]) => ({\n      id: id.substring(0, 4),\n      score: player.score,\n      color: player.color,\n      isCurrentPlayer: id === socket.id,\n      playerNumber: player.playerNumber\n    }));\n    setPlayerList(list);\n  }, []);\n\n  // Handle keyboard input (only during gameplay)\n  // Update the handleKeyDown function with better X key handling\n  const handleKeyDown = useCallback(e => {\n    // Handle X key for readiness regardless of game phase\n    if (e.key === 'x' || e.key === 'X') {\n      if (gameState && gameState.appPhase === 'homescreen') {\n        const isCurrentlyReady = gameState.readyPlayers.includes(socket.id);\n        console.log('X key pressed, toggling ready state. Current ready:', isCurrentlyReady);\n        socket.emit('playerReady', !isCurrentlyReady);\n        e.preventDefault();\n        return;\n      }\n    }\n\n    // Only process other game controls if in playing phase\n    if (gameState && gameState.appPhase === 'playing') {\n      let action = null;\n      let dasAction = null;\n      switch (e.key) {\n        case 'ArrowLeft':\n          action = {\n            type: 'moveLeft'\n          };\n          dasAction = {\n            type: 'startDAS',\n            direction: 'left'\n          };\n          break;\n        case 'ArrowRight':\n          action = {\n            type: 'moveRight'\n          };\n          dasAction = {\n            type: 'startDAS',\n            direction: 'right'\n          };\n          break;\n        case 'ArrowDown':\n          action = {\n            type: 'softDrop'\n          };\n          break;\n        case 'ArrowUp':\n        case 'z':\n        case 'Z':\n          action = {\n            type: 'rotate'\n          };\n          break;\n        case ' ':\n          // Space for hard drop\n          action = {\n            type: 'hardDrop'\n          };\n          break;\n        default:\n          break;\n      }\n      if (action) {\n        socket.emit('playerAction', action);\n        if (dasAction) {\n          socket.emit('playerAction', dasAction);\n        }\n        e.preventDefault();\n      }\n    }\n  }, [gameState]);\n  const handleKeyUp = useCallback(e => {\n    if (gameState && gameState.appPhase === 'playing') {\n      if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {\n        socket.emit('playerAction', {\n          type: 'endDAS'\n        });\n      }\n      if (e.key === 'ArrowDown') {\n        socket.emit('playerAction', {\n          type: 'endSoftDrop'\n        });\n      }\n    }\n  }, [gameState]);\n\n  // Event handlers for HomeScreen\n  const handlePlayerReady = useCallback(isReady => {\n    socket.emit('playerReady', isReady);\n  }, []);\n  const handleSetGameMode = useCallback(mode => {\n    socket.emit('setGameMode', mode);\n  }, []);\n  const handleStartGame = useCallback(() => {\n    socket.emit('startGame');\n  }, []);\n\n  // Auto-focus the game div on mount and when game state changes\n  useEffect(() => {\n    const gameDiv = document.getElementById('game-area');\n    if (gameDiv) {\n      gameDiv.focus();\n    }\n  }, [gameState]);\n  if (!gameState) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Tetristributed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Connection status: \", connectionStatus]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Waiting for game state from server...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"game-area\",\n    onKeyDown: handleKeyDown,\n    onKeyUp: handleKeyUp,\n    tabIndex: \"0\",\n    style: {\n      outline: 'none',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    children: [gameState.appPhase === 'homescreen' && /*#__PURE__*/_jsxDEV(HomeScreen, {\n      players: gameState.players,\n      currentPlayerId: socket.id,\n      readyPlayers: gameState.readyPlayers || [],\n      onReady: handlePlayerReady,\n      onStartGame: handleStartGame,\n      onSetGameMode: handleSetGameMode,\n      gameMode: gameState.gameMode\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }, this), gameState.appPhase === 'playing' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Tetristributed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Connected as player: \", socket.id && socket.id.substring(0, 4)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '20px',\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(GameBoard, {\n          board: gameState.board,\n          players: gameState.players,\n          currentPlayerId: socket.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            minWidth: '200px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Players\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            style: {\n              listStyle: 'none',\n              padding: 0\n            },\n            children: playerList.map(player => /*#__PURE__*/_jsxDEV(\"li\", {\n              style: {\n                margin: '8px 0',\n                padding: '8px',\n                backgroundColor: player.isCurrentPlayer ? '#444' : '#333',\n                borderLeft: `4px solid ${player.color}`,\n                borderRadius: '4px'\n              },\n              children: [\"Player \", player.id, \" \", player.isCurrentPlayer ? '(You)' : '', \": \", player.score, \" points\"]\n            }, player.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '20px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"Game Mode: \", gameState.gameMode]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), gameOverData && /*#__PURE__*/_jsxDEV(GameOverScreen, {\n      gameOverData: gameOverData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 24\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 168,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"9x3TFq2ccgXif5d2bUJmvXOl3fM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","io","GameBoard","HomeScreen","GameOverScreen","jsxDEV","_jsxDEV","Fragment","_Fragment","console","log","socket","App","_s","gameState","setGameState","connectionStatus","setConnectionStatus","playerList","setPlayerList","gameOverData","setGameOverData","on","id","error","message","data","updatePlayerList","players","appPhase","off","list","Object","entries","map","player","substring","score","color","isCurrentPlayer","playerNumber","handleKeyDown","e","key","isCurrentlyReady","readyPlayers","includes","emit","preventDefault","action","dasAction","type","direction","handleKeyUp","handlePlayerReady","isReady","handleSetGameMode","mode","handleStartGame","gameDiv","document","getElementById","focus","children","fileName","_jsxFileName","lineNumber","columnNumber","onKeyDown","onKeyUp","tabIndex","style","outline","display","flexDirection","alignItems","currentPlayerId","onReady","onStartGame","onSetGameMode","gameMode","gap","marginBottom","board","minWidth","listStyle","padding","margin","backgroundColor","borderLeft","borderRadius","marginTop","_c","$RefreshReg$"],"sources":["/Users/driesrooryck/Desktop/s25/distributed-systems/tetris/client/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\nimport { io } from 'socket.io-client';\nimport GameBoard from './GameBoard';\nimport HomeScreen from './HomeScreen';\nimport GameOverScreen from './GameOverScreen';\n\n// Add debugging to see connection attempts\nconsole.log('Attempting to connect to server at http://localhost:3001');\nconst socket = io('http://localhost:3001'); // server endpoint\n\nfunction App() {\n  const [gameState, setGameState] = useState(null);\n  const [connectionStatus, setConnectionStatus] = useState('connecting');\n  const [playerList, setPlayerList] = useState([]);\n  const [gameOverData, setGameOverData] = useState(null);\n\n  useEffect(() => {\n    socket.on('connect', () => {\n      console.log('Connected to server! My socket ID is:', socket.id);\n      setConnectionStatus('connected');\n    });\n  \n    socket.on('connect_error', (error) => {\n      console.log('Connection error:', error);\n      setConnectionStatus('error: ' + error.message);\n    });\n\n    socket.on('init', (data) => {\n      console.log('Received init data:', data);\n      setGameState(data);\n      updatePlayerList(data.players);\n    });\n  \n    socket.on('gameState', (data) => {\n      console.log('Received gameState update:', data);\n      setGameState(data);\n      updatePlayerList(data.players);\n      \n      // Reset gameOverData if we're back at homescreen\n      if (data.appPhase === 'homescreen') {\n        setGameOverData(null);\n      }\n    });\n    \n    socket.on('gameOver', (data) => {\n      console.log('Game over:', data);\n      setGameOverData(data);\n    });\n  \n    // Cleanup event listeners when component unmounts\n    return () => {\n      socket.off('connect');\n      socket.off('connect_error');\n      socket.off('init');\n      socket.off('gameState');\n      socket.off('gameOver');\n    };\n  }, []);\n  \n  // Update the player list for display\n  const updatePlayerList = useCallback((players) => {\n    const list = Object.entries(players).map(([id, player]) => ({\n      id: id.substring(0, 4),\n      score: player.score,\n      color: player.color,\n      isCurrentPlayer: id === socket.id,\n      playerNumber: player.playerNumber\n    }));\n    setPlayerList(list);\n  }, []);\n  \n  // Handle keyboard input (only during gameplay)\n  // Update the handleKeyDown function with better X key handling\n  const handleKeyDown = useCallback((e) => {\n    // Handle X key for readiness regardless of game phase\n    if (e.key === 'x' || e.key === 'X') {\n      if (gameState && gameState.appPhase === 'homescreen') {\n        const isCurrentlyReady = gameState.readyPlayers.includes(socket.id);\n        console.log('X key pressed, toggling ready state. Current ready:', isCurrentlyReady);\n        socket.emit('playerReady', !isCurrentlyReady);\n        e.preventDefault();\n        return;\n      }\n    }\n    \n    // Only process other game controls if in playing phase\n    if (gameState && gameState.appPhase === 'playing') {\n      let action = null;\n      let dasAction = null;\n      \n      switch (e.key) {\n        case 'ArrowLeft':\n          action = { type: 'moveLeft' };\n          dasAction = { type: 'startDAS', direction: 'left' };\n          break;\n        case 'ArrowRight':\n          action = { type: 'moveRight' };\n          dasAction = { type: 'startDAS', direction: 'right' };\n          break;\n        case 'ArrowDown':\n          action = { type: 'softDrop' };\n          break;\n        case 'ArrowUp':\n        case 'z':\n        case 'Z':\n          action = { type: 'rotate' };\n          break;\n        case ' ': // Space for hard drop\n          action = { type: 'hardDrop' };\n          break;\n        default:\n          break;\n      }\n    \n      if (action) {\n        socket.emit('playerAction', action);\n        if (dasAction) {\n          socket.emit('playerAction', dasAction);\n        }\n        e.preventDefault();\n      }\n    }\n  }, [gameState]);\n\n  const handleKeyUp = useCallback((e) => {\n    if (gameState && gameState.appPhase === 'playing') {\n      if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {\n        socket.emit('playerAction', { type: 'endDAS' });\n      }\n      if (e.key === 'ArrowDown') {\n        socket.emit('playerAction', { type: 'endSoftDrop' });\n      }\n    }\n  }, [gameState]);\n\n  // Event handlers for HomeScreen\n  const handlePlayerReady = useCallback((isReady) => {\n    socket.emit('playerReady', isReady);\n  }, []);\n\n  const handleSetGameMode = useCallback((mode) => {\n    socket.emit('setGameMode', mode);\n  }, []);\n\n  const handleStartGame = useCallback(() => {\n    socket.emit('startGame');\n  }, []);\n\n  // Auto-focus the game div on mount and when game state changes\n  useEffect(() => {\n    const gameDiv = document.getElementById('game-area');\n    if (gameDiv) {\n      gameDiv.focus();\n    }\n  }, [gameState]);\n\n  if (!gameState) {\n    return (\n      <div>\n        <h1>Tetristributed</h1>\n        <p>Connection status: {connectionStatus}</p>\n        <p>Waiting for game state from server...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div \n      id=\"game-area\"\n      onKeyDown={handleKeyDown}\n      onKeyUp={handleKeyUp}\n      tabIndex=\"0\" \n      style={{ outline: 'none', display: 'flex', flexDirection: 'column', alignItems: 'center' }}\n    >\n      {gameState.appPhase === 'homescreen' && (\n        <HomeScreen \n          players={gameState.players}\n          currentPlayerId={socket.id}\n          readyPlayers={gameState.readyPlayers || []}\n          onReady={handlePlayerReady}\n          onStartGame={handleStartGame}\n          onSetGameMode={handleSetGameMode}\n          gameMode={gameState.gameMode}\n        />\n      )}\n      \n      {gameState.appPhase === 'playing' && (\n        <>\n          <h1>Tetristributed</h1>\n          <p>Connected as player: {socket.id && socket.id.substring(0, 4)}</p>\n          \n          <div style={{ display: 'flex', gap: '20px', marginBottom: '20px' }}>\n            <GameBoard \n              board={gameState.board} \n              players={gameState.players}\n              currentPlayerId={socket.id}\n            />\n            \n            <div style={{ minWidth: '200px' }}>\n              <h2>Players</h2>\n              <ul style={{ listStyle: 'none', padding: 0 }}>\n                {playerList.map(player => (\n                  <li \n                    key={player.id} \n                    style={{ \n                      margin: '8px 0',\n                      padding: '8px',\n                      backgroundColor: player.isCurrentPlayer ? '#444' : '#333',\n                      borderLeft: `4px solid ${player.color}`,\n                      borderRadius: '4px'\n                    }}\n                  >\n                    Player {player.id} {player.isCurrentPlayer ? '(You)' : ''}: {player.score} points\n                  </li>\n                ))}\n              </ul>\n              \n              <div style={{ marginTop: '20px' }}>\n                <h3>Game Mode: {gameState.gameMode}</h3>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n      \n      {/* Game over overlay */}\n      {gameOverData && <GameOverScreen gameOverData={gameOverData} />}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}